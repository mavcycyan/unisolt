"use strict";!function(u){var d={step1:"rectangle",step3:{reindeer:0,bool:0,flat:0,has_green:0},step4:""},v={moss:!1,green:!1,logo_back:!1};function n(){var t,a,o,c,r,n,i,l,e=area/1e4,s=perim/100,h=(t=e,a=Object.keys(d.step3),h=Object.values(d.step3),c=o=0,i=n=r="",l={reindeer:"Ягель",bool:"Пластовой",flat:"Кочковой"},h.forEach(function(e,s){(c=0)<e&&("has_green"===a[s]?(c=.2,o+=t*confPrices.green*c,0!==s&&(n+=" + "),n+="(Площадь м<sup>2</sup> * Зелень * 20%)",0!==s&&(r+=" + "),r+="("+t+" * "+confPrices.green+" * "+c+")",0!==s&&(i+=" + "),i+=t*confPrices.green*c):(c=e/100,o+=t*confPrices.moss[a[s]]*c,0!==s&&(n+=" + "),n+="(Площадь м<sup>2</sup> * "+l[a[s]]+" * "+e+"%)",0!==s&&(r+=" + "),r+="("+t+" * "+confPrices.moss[a[s]]+" * "+c+")",0!==s&&(i+=" + "),i+=t*confPrices.moss[a[s]]*c))}),o*=confPrices.coefficient,u(".textMossCalc").html("("+n+") * коэфициент = ("+r+") * "+confPrices.coefficient+" = ("+i+") * "+confPrices.coefficient+" = "+o+"€"),o),s=function(e){var s=0,t={none:"Без рамки",moss:"Из мха",wooden:"Деревянная",aluminum:"Алюминиевая"};if("circle"!==mode)""!==d.step4&&(s=e*confPrices.frame[d.step4]),u(".textFrameCalc").html("Периметр м * "+t[d.step4]+" = "+e+" * "+confPrices.frame[d.step4]+" = "+s+"€");else if(""!==d.step4){if(""===u("select.js-confSetValue").val())return s;if(0===confPrices.circle.frame[d.step4][u("select.js-confSetValue").val()])return s;s=confPrices.circle.frame[d.step4][u("select.js-confSetValue").val()],u(".textFrameCalc").html("Фикс цена "+t[d.step4]+" = "+confPrices.circle.frame[d.step4][u("select.js-confSetValue").val()]+" = "+s+"€")}return s}(s),p=e*confPrices.mdf,f=e*confPrices.glue,m=h+s+p+f;u(".textMdfCalc").html("Площадь м<sup>2</sup> * МДФ за м<sup>2</sup> = "+e+" * "+confPrices.mdf+" = "+p+"€"),u(".textGlueCalc").html("Площадь м<sup>2</sup> * клей за м<sup>2</sup> = "+e+" * "+confPrices.glue+" = "+f+"€"),u(".textTotalCalc").html("Мох + Рамка + МДФ + клей = "+h+" + "+s+" + "+p+" + "+f+" = "+m+"€"),!v.moss&&v.green?(u(".js-confCost").html('<span class="alert_mess">'+strings.green_alert+"</span>"),u(".js-confFormPrice").val("0 €")):(e=" + VAT",v.logo_back&&(e=e+'. <span class="alert_mess">'+strings.logo_blacklight_alert+"</span>"),0<confPrices.discount?(h=m-m*(confPrices.discount/100),u(".textTotalDiscCalc").html("Итог - 20% = "+m+" - "+m*(confPrices.discount/100)+" = "+h+"€"),u(".js-confCost").html('<span class="old">'+Math.trunc(m)+" € </span>"+Math.trunc(h)+" €"+e),u(".js-confFormPrice").val(Math.trunc(h)+" €")):(u(".js-confCost").html(Math.trunc(m)+" €"+e),u(".js-confFormPrice").val(Math.trunc(m)+" €")))}u(".js-confFirstType").click(function(){u(".js-confFirstTypeCanv div").addClass("d-none"),u('.js-confFirstTypeCanv div[data-first="'+u(this).data("first")+'"]').removeClass("d-none"),u(".js-confFirstType").removeClass("active"),u(this).addClass("active"),d.step1=u(this).data("first"),u(".js-confAppCont").removeClass(["chosen-rectangle","chosen-circle","chosen-square","chosen-hexagon"]),u(".js-confAppCont").addClass("chosen-"+u(this).data("first")),mode="circle"!==d.step1?"input":"circle","circle"!==u(this).data("first")&&"hexagon"!==u(this).data("first")||u(".js-confItemNeedHid").addClass("d-none"),u(".js-fifthType > *").removeClass("current"),u('.js-fifthType [data-type="'+d.step1+'"]').addClass("current"),u(".js-confFormType").val(u(this).data("choose-name")),u("input.js-confSetValue").val(""),u("select.js-confSetValue").val("").change(),u(".js-confFourthChoose").each(function(){u(this).closest("div").removeClass("d-none")}),area=0,u(".js-confThirdChoose").removeClass("active"),d.step3={reindeer:0,bool:0,flat:0,has_green:0},u(".js-confFourthChoose").removeClass("active"),u(".configurator-wsldr-slide:first-child .js-confFourthChoose").addClass("active"),u(".js-confThirdImgChosen").attr("src",""),u(".js-confFourthImgChosen").attr("src",""),u(".js-confCost").html(0),u(".js-confFormPrice").val(0),u(".js-confFormMoss").val(""),u(".js-confFormSizes").val(""),u(".js-confFormFrame").val("")}),u(".js-confThirdChoose").click(function(){u(this).toggleClass("active"),e=u(".js-confThirdChoose.active"),v={moss:!1,green:!1,logo_back:!1},e.each(function(){"reindeer"!==u(this).data("choose-type")&&"bool"!==u(this).data("choose-type")&&"flat"!==u(this).data("choose-type")||(v.moss=!0),"green"===u(this).data("choose-type")&&(v.green=!0),"logo"!==u(this).data("choose-type")&&"backlight"!==u(this).data("choose-type")||(v.logo_back=!0)});var e=u(".js-confThirdChooseMain.active"),s=100,e=(d.step3={reindeer:0,bool:0,flat:0,has_green:0},0<e.length&&(s=100/e.length,e.each(function(){d.step3[u(this).data("choose-type")+""]=s})),u(".js-confThirdChooseGreen.active")&&0<u(".js-confThirdChooseGreen.active").length?d.step3.has_green=1:d.step3.has_green=0,Object.keys(d.step3)),t=Object.values(d.step3),a="",o=!1,e=(e.forEach(function(e,s){0<t[s]&&"has_green"!==e&&(o?a+="_":o=!0,a+=e),0<t[s]&&"has_green"===e&&(o?a+="_":o=!0,a+="green")}),""===a||void 0===mossImages[a]?(u(".js-confThirdImgChosen").attr("src",""),u(".js-confFormMoss").val("")):(u(".js-confThirdImgChosen").attr("src",mossImages[a]),u(".js-confFormMoss").val(a)),u(".js-confThirdImgWrapType").removeClass(["rectangle","circle","square","hexagon"]),u(".js-confThirdImgWrapType").addClass(d.step1),u(".js-confThirdChoose.active")),c="",r=!1;0<e.length&&e.each(function(){r?c+=", ":r=!0,c+=u(this).data("choose-name")}),""===c?u(".js-confFormMoss").val(""):u(".js-confFormMoss").val(c),n()}),u(".js-confFourthChoose").click(function(){u(".js-confFourthChoose").removeClass("active"),u(this).addClass("active"),d.step4=u(this).data("choose-type"),u(".js-confFormFrame").val(u(this).data("choose-name")),n()}),u("input.js-confSetValue").keyup(function(){var e,s,t=u(this).data("type");area=0,perim=0,"width"===t?(s=parseInt(u(this).val()),e=parseInt(""!==u('.js-confSetValue[data-type="height"]').val()?u('.js-confSetValue[data-type="height"]').val():0),area=s*e,perim=2*(s+e),u(".textAreaCalc").html("ширина * высота = "+s+" * "+e+" = "+area+" см = "+area/1e4+" м<sup>2</sup>"),u(".textPerimCalc").html("(ширина + высота) * 2 = ("+s+" + "+e+") * 2 = "+perim+" см = "+perim/100+" м")):"height"===t?(e=parseInt(u(this).val()),s=parseInt(""!==u('.js-confSetValue[data-type="width"]').val()?u('.js-confSetValue[data-type="width"]').val():0),area=s*e,perim=2*(s+e),u(".textAreaCalc").html("ширина * высота = "+s+" * "+e+" = "+area+" см = "+area/1e4+" м<sup>2</sup>"),u(".textPerimCalc").html("(ширина + высота) * 2 = ("+s+" + "+e+") * 2 = "+perim+" см = "+perim/100+" м")):"diam"===t?(s=parseInt(u(this).val()),area=.785398163375*Math.pow(s,2),perim=s/2*6.283185307,u(".textAreaCalc").html("(1 / 4) * 3.1415926535 * диаметр<sup>2</sup> = (1 / 4) * 3.1415926535 * "+s+"<sup>2</sup> = "+area+" см = "+area/1e4+" м<sup>2</sup>"),u(".textPerimCalc").html("2 * 3.1415926535 * (диаметр / 2) = 2 * 3.1415926535 * ("+s+" / 2) = "+perim+" см = "+perim/100+" м")):"side"===t?(e=parseInt(u(this).val()),area=Math.pow(e,2),perim=4*e,u(".textAreaCalc").html("сторона<sup>2</sup> = "+e+"<sup>2</sup> = "+area+" см = "+area/1e4+" м<sup>2</sup>"),u(".textPerimCalc").html("сторона * 4 = "+e+" * 4 = "+perim+" см = "+perim/100+" м")):"edge"===t&&(s=parseInt(u(this).val()),area=3*Math.sqrt(3)*Math.pow(s,2)/2,perim=6*s,u(".textAreaCalc").html("(3 * квадр_корень 3 * ребро<sup>2</sup>) / 2 = (3 * квадр_корень 3 * "+s+"<sup>2</sup>) / 2 = "+area+" см = "+area/1e4+" м<sup>2</sup>"),u(".textPerimCalc").html("ребро * 6 = "+s+" * 6 = "+perim+" см = "+perim/100+" м")),n()}),u("select.js-confSetValue").change(function(){var s,e=u(this).data("type");area=0,perim=0,"diam"===e&&(s=parseInt(u(this).val()),area=.785398163375*Math.pow(s,2),perim=s/2*6.283185307,u(".textAreaCalc").html("(1 / 4) * 3.1415926535 * диаметр<sup>2</sup> = (1 / 4) * 3.1415926535 * "+s+"<sup>2</sup> = "+area+" см = "+area/1e4+" м<sup>2</sup>"),u(".textPerimCalc").html("2 * 3.1415926535 * (диаметр / 2) = 2 * 3.1415926535 * ("+s+" / 2) = "+perim+" см = "+perim/100+" м"),u(".js-confFourthChoose").each(function(){u(this).closest("div").removeClass("d-none");var e=u(this).data("choose-type");"none"!==e&&0===confPrices.circle.frame[e][s]&&u(this).closest("div").addClass("d-none")})),n()}),u(".js-confNext, .js-confTopBtns").click(function(){var t,e=u(this).data("step");u(".js-confContScreens").removeClass("current"),u(1===e?'.js-confContScreens[data-screen="1"]':2===e?'.js-confContScreens[data-screen="'+e+"-"+d.step1+'"]':'.js-confContScreens[data-screen="'+e+'"]').addClass("current"),t=e,u(".js-confTopBtns").each(function(e,s){e+1<=t?u('.js-confTopBtns[data-step="'+(e+1)+'"]').addClass("current"):u('.js-confTopBtns[data-step="'+(e+1)+'"]').removeClass("current")})})}(jQuery);
//# sourceMappingURL=configurator.min.js.map
