{"version":3,"sources":["configurator.js"],"names":["$","configurator","step1","reindeer","flat","has_green","thirdTypesChecked","moss","green","logo_back","calculatePrice","area_mt","step3Keys","perc","summ","test_str","test_str_formula","test_str_parts","perim_mt","perim","Object","keys","step3","values","confPrices","step3Vals","forEach","i","el","coefficient","html","calculateFrame","test_transl","frame","circle","step4","none","wooden","aluminum","mode","removeClass","number","val","configTopMark","mdf","end_str","glue","discount","summ_disc","strings","green_alert","Math","trunc","calculateMoss","logo_blacklight_alert","click","addClass","this","data","change","closest","area","bool","attr","toggleClass","materials","each","calculateMaterialsRatio","string","ratio","length","setImageByMoss","setSome","mossImages","setNamesByMoss","els","keyup","type","side","edge","width","parseInt","height","diam","pow","sqrt","dat","step","jQuery"],"mappings":"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","file":"configurator.min.js","sourcesContent":["( function( $ ) {\r\n\r\n    var configurator = {\r\n        step1: 'rectangle',\r\n        step3: {\r\n            reindeer: 0, // %\r\n            bool: 0, // %\r\n            flat: 0, // %\r\n            has_green: 0\r\n        },\r\n        step4: ''\r\n    };\r\n\r\n    var thirdTypesChecked = {moss: false, green: false, logo_back: false};\r\n\r\n    /*choose actions*/\r\n    $('.js-confFirstType').click(function(){\r\n        $('.js-confFirstTypeCanv div').addClass('d-none');\r\n        $('.js-confFirstTypeCanv div[data-first=\"' + $(this).data('first') + '\"]').removeClass('d-none');\r\n        $('.js-confFirstType').removeClass('active');\r\n        $(this).addClass('active');\r\n        configurator.step1 = $(this).data('first');\r\n        $('.js-confAppCont').removeClass(['chosen-rectangle', 'chosen-circle', 'chosen-square', 'chosen-hexagon']);\r\n        $('.js-confAppCont').addClass('chosen-' + $(this).data('first'));\r\n\r\n        if (configurator.step1 !== 'circle') {\r\n            mode = 'input';\r\n        } else {\r\n            mode = 'circle';\r\n        }\r\n\r\n        if ($(this).data('first') === 'circle' || $(this).data('first') === 'hexagon') {\r\n            $('.js-confItemNeedHid').addClass('d-none');\r\n        }\r\n\r\n        $('.js-fifthType > *').removeClass('current');\r\n        $('.js-fifthType [data-type=\"' + configurator.step1 + '\"]').addClass('current');\r\n\r\n        $('.js-confFormType').val($(this).data('choose-name'));\r\n\r\n        resetAll();\r\n    });\r\n\r\n    $('.js-confThirdChoose').click(function(){\r\n        $(this).toggleClass('active');\r\n        checkTypesChecked();\r\n        calculateMaterialsRatio();\r\n        setImageByMoss();\r\n        setNamesByMoss();\r\n        calculatePrice();\r\n    });\r\n\r\n    $('.js-confFourthChoose').click(function(){\r\n        // $('.js-confFourthImgChosen').attr('src', $(this).data('choose-img'));\r\n        $('.js-confFourthChoose').removeClass('active');\r\n        $(this).addClass('active');\r\n        configurator.step4 = $(this).data('choose-type');\r\n        $('.js-confFormFrame').val($(this).data('choose-name'));\r\n        calculatePrice();\r\n    });\r\n    /*choose actions*/\r\n\r\n    /*area_calculating*/\r\n    $('input.js-confSetValue').keyup(function() {\r\n        var type = $(this).data('type');\r\n        area = 0;\r\n        perim = 0;\r\n        if (type === 'width') {\r\n            var width = parseInt($(this).val());\r\n            var height = parseInt(($('.js-confSetValue[data-type=\"height\"]').val() !== '') ? $('.js-confSetValue[data-type=\"height\"]').val() : 0);\r\n            area = width * height;\r\n            perim = (width + height) * 2;\r\n            $('.textAreaCalc').html('ширина * высота = ' + width + ' * ' + height + ' = ' + area + ' см = ' + (area / 10000) + ' м<sup>2</sup>');\r\n            $('.textPerimCalc').html('(ширина + высота) * 2 = (' + width + ' + ' + height + ') * 2 = ' + perim + ' см = ' + (perim / 100) + ' м');\r\n        } else if (type === 'height') {\r\n            var height = parseInt($(this).val());\r\n            var width = parseInt(($('.js-confSetValue[data-type=\"width\"]').val() !== '') ? $('.js-confSetValue[data-type=\"width\"]').val() : 0);\r\n            area = width * height;\r\n            perim = (width + height) * 2;\r\n            $('.textAreaCalc').html('ширина * высота = ' + width + ' * ' + height + ' = ' + area + ' см = ' + (area / 10000) + ' м<sup>2</sup>');\r\n            $('.textPerimCalc').html('(ширина + высота) * 2 = (' + width + ' + ' + height + ') * 2 = ' + perim + ' см = ' + (perim / 100) + ' м');\r\n        } else if (type === \"diam\") {\r\n            var diam = parseInt($(this).val());\r\n            area = (1 / 4) * 3.1415926535 * Math.pow(diam, 2);\r\n            perim = 2 * 3.1415926535 * (diam / 2);\r\n            $('.textAreaCalc').html('(1 / 4) * 3.1415926535 * диаметр<sup>2</sup> = (1 / 4) * 3.1415926535 * ' + diam + '<sup>2</sup> = ' + area + ' см = ' + (area / 10000) + ' м<sup>2</sup>');\r\n            $('.textPerimCalc').html('2 * 3.1415926535 * (диаметр / 2) = 2 * 3.1415926535 * (' + diam + ' / 2) = ' + perim + ' см = ' + (perim / 100) + ' м');\r\n        } else if (type === \"side\") {\r\n            var side = parseInt($(this).val());\r\n            area = Math.pow(side, 2);\r\n            perim = side * 4;\r\n            $('.textAreaCalc').html('сторона<sup>2</sup> = ' + side + '<sup>2</sup> = ' + area + ' см = ' + (area / 10000) + ' м<sup>2</sup>');\r\n            $('.textPerimCalc').html('сторона * 4 = ' + side + ' * 4 = ' + perim + ' см = ' + (perim / 100) + ' м');\r\n        } else if (type === \"edge\") {\r\n            var edge = parseInt($(this).val());\r\n            area = (3 * Math.sqrt(3) * Math.pow(edge, 2)) / 2;\r\n            perim = edge * 6;\r\n            $('.textAreaCalc').html('(3 * квадр_корень 3 * ребро<sup>2</sup>) / 2 = (3 * квадр_корень 3 * ' + edge + '<sup>2</sup>) / 2 = ' + area + ' см = ' + (area / 10000) + ' м<sup>2</sup>');\r\n            $('.textPerimCalc').html('ребро * 6 = ' + edge + ' * 6 = ' + perim + ' см = ' + (perim / 100) + ' м');\r\n        }\r\n        calculatePrice();\r\n    });\r\n    $('select.js-confSetValue').change(function() {\r\n        var type = $(this).data('type');\r\n        area = 0;\r\n        perim = 0;\r\n        if (type === \"diam\") {\r\n            var diam = parseInt($(this).val());\r\n            area = (1 / 4) * 3.1415926535 * Math.pow(diam, 2);\r\n            perim = 2 * 3.1415926535 * (diam / 2);\r\n            $('.textAreaCalc').html('(1 / 4) * 3.1415926535 * диаметр<sup>2</sup> = (1 / 4) * 3.1415926535 * ' + diam + '<sup>2</sup> = ' + area + ' см = ' + (area / 10000) + ' м<sup>2</sup>');\r\n            $('.textPerimCalc').html('2 * 3.1415926535 * (диаметр / 2) = 2 * 3.1415926535 * (' + diam + ' / 2) = ' + perim + ' см = ' + (perim / 100) + ' м');\r\n\r\n            $('.js-confFourthChoose').each(function(){\r\n                $(this).closest('div').removeClass('d-none');\r\n                var dat = $(this).data('choose-type');\r\n                if (dat !== 'none') {\r\n                    if (confPrices.circle.frame[dat][diam] === 0) {\r\n                        $(this).closest('div').addClass('d-none');\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        calculatePrice();\r\n    });\r\n    /*area_calculating*/\r\n\r\n    /*first_step_reset_all*/\r\n    function resetAll() {\r\n        $('input.js-confSetValue').val(''); // reset area values\r\n        $('select.js-confSetValue').val(\"\").change(); // reset area values\r\n        $('.js-confFourthChoose').each(function(){\r\n            $(this).closest('div').removeClass('d-none');\r\n        }); // reset area values\r\n        area = 0;\r\n        $('.js-confThirdChoose').removeClass('active');\r\n        configurator.step3 = {\r\n            reindeer: 0,\r\n            bool: 0,\r\n            flat: 0,\r\n            has_green: 0\r\n        }\r\n        $('.js-confFourthChoose').removeClass('active');\r\n        $('.configurator-wsldr-slide:first-child .js-confFourthChoose').addClass('active');\r\n\r\n        $('.js-confThirdImgChosen').attr('src', '');\r\n        $('.js-confFourthImgChosen').attr('src', '');\r\n\r\n        $('.js-confCost').html(0);\r\n\r\n        $('.js-confFormPrice').val(0);\r\n        $('.js-confFormMoss').val('');\r\n        $('.js-confFormSizes').val('');\r\n        $('.js-confFormFrame').val('');\r\n    }\r\n    /*first_step_reset_all*/\r\n\r\n    /*third_step_check_types_checked*/\r\n    function checkTypesChecked() {\r\n        var materials = $('.js-confThirdChoose.active');\r\n        thirdTypesChecked = {moss: false, green: false, logo_back: false}\r\n        materials.each(function() {\r\n            if (\r\n                $(this).data('choose-type') === 'reindeer' ||\r\n                $(this).data('choose-type') === 'bool' ||\r\n                $(this).data('choose-type') === 'flat'\r\n            ) {\r\n                thirdTypesChecked['moss'] = true;\r\n            }\r\n            if (\r\n                $(this).data('choose-type') === 'green'\r\n            ) {\r\n                thirdTypesChecked['green'] = true;\r\n            }\r\n            if (\r\n                $(this).data('choose-type') === 'logo' ||\r\n                $(this).data('choose-type') === 'backlight'\r\n            ) {\r\n                thirdTypesChecked['logo_back'] = true;\r\n            }\r\n        });\r\n    }\r\n    /*third_step_check_types_checked*/\r\n\r\n    /*third_step_calculate_materials_ratio*/\r\n    function calculateMaterialsRatio() {\r\n        var materials = $('.js-confThirdChooseMain.active');\r\n        var ratio = 100;\r\n        configurator.step3 = {\r\n            reindeer: 0,\r\n            bool: 0,\r\n            flat: 0,\r\n            has_green: 0\r\n        }\r\n        if (materials.length > 0)  {\r\n            ratio = ratio / materials.length;\r\n            materials.each(function () {\r\n                configurator.step3[$(this).data('choose-type')+''] = ratio;\r\n            })\r\n        }\r\n        if ($('.js-confThirdChooseGreen.active') && $('.js-confThirdChooseGreen.active').length > 0) {\r\n            configurator.step3.has_green = 1;\r\n        } else {\r\n            configurator.step3.has_green = 0;\r\n        }\r\n    }\r\n    /*third_step_calculate_materials_ratio*/\r\n\r\n    /*third_step_set_image*/\r\n    function setImageByMoss() {\r\n        var keys = Object.keys(configurator.step3);\r\n        var values = Object.values(configurator.step3);\r\n        var string = '';\r\n        var setSome = false;\r\n        keys.forEach(function(el, i) {\r\n            if (values[i] > 0 && el !== 'has_green') {\r\n                if (!setSome) {\r\n                    setSome = true;\r\n                } else {\r\n                    string += '_';\r\n                }\r\n                string += el;\r\n            }\r\n            if (values[i] > 0 && el === 'has_green') {\r\n                if (!setSome) {\r\n                    setSome = true;\r\n                } else {\r\n                    string += '_';\r\n                }\r\n                string += 'green';\r\n            }\r\n        })\r\n        if (string === '') {\r\n            $('.js-confThirdImgChosen').attr('src', '');\r\n            $('.js-confFormMoss').val('');\r\n        } else {\r\n            if (mossImages[string] === undefined) {\r\n                $('.js-confThirdImgChosen').attr('src', '');\r\n                $('.js-confFormMoss').val('');\r\n            } else {\r\n                $('.js-confThirdImgChosen').attr('src', mossImages[string]);\r\n                $('.js-confFormMoss').val(string);\r\n            }\r\n        }\r\n\r\n        $('.js-confThirdImgWrapType').removeClass(['rectangle', 'circle', 'square', 'hexagon']);\r\n        $('.js-confThirdImgWrapType').addClass(configurator.step1);\r\n    }\r\n    /*third_step_set_image*/\r\n\r\n    /*third_step_set_names*/\r\n    function setNamesByMoss() {\r\n        var els = $('.js-confThirdChoose.active');\r\n        var string = '';\r\n        var setSome = false;\r\n        if (els.length > 0) {\r\n            els.each(function() {\r\n                if (!setSome) {\r\n                    setSome = true;\r\n                } else {\r\n                    string += ', ';\r\n                }\r\n                string += $(this).data('choose-name');\r\n            })\r\n        }\r\n        if (string === '') {\r\n            $('.js-confFormMoss').val('');\r\n        } else {\r\n            $('.js-confFormMoss').val(string);\r\n        }\r\n    }\r\n    /*third_step_set_names*/\r\n\r\n    /*calculate price by all getted data*/\r\n    function calculatePrice() {\r\n        var area_mt = area / 10000; // sm to m\r\n        var perim_mt = perim / 100; // sm to m\r\n        var moss = calculateMoss(area_mt);\r\n        var frame = calculateFrame(perim_mt);\r\n\r\n        var mdf = area_mt * confPrices.mdf;\r\n        var glue = area_mt * confPrices.glue;\r\n        var summ = moss + frame + mdf + glue;\r\n        $('.textMdfCalc').html('Площадь м<sup>2</sup> * МДФ за м<sup>2</sup> = ' + area_mt + ' * ' + confPrices.mdf + ' = ' + mdf + '€');\r\n        $('.textGlueCalc').html('Площадь м<sup>2</sup> * клей за м<sup>2</sup> = ' + area_mt + ' * ' + confPrices.glue + ' = ' + glue + '€');\r\n        $('.textTotalCalc').html('Мох + Рамка + МДФ + клей = ' + moss + ' + ' + frame + ' + ' + mdf + ' + ' + glue + ' = ' + summ + '€');\r\n\r\n        if (!thirdTypesChecked.moss && thirdTypesChecked.green) {\r\n            $('.js-confCost').html('<span class=\"alert_mess\">' + strings.green_alert + '</span>');\r\n            $('.js-confFormPrice').val(0 + ' €');\r\n        }\r\n        else {\r\n            var end_str = ' + VAT';\r\n            if (thirdTypesChecked.logo_back) {\r\n                end_str = end_str + '. <span class=\"alert_mess\">' + strings.logo_blacklight_alert + '</span>';\r\n            }\r\n            if (confPrices.discount > 0) {\r\n                var summ_disc = summ - (summ * (confPrices.discount / 100));\r\n                $('.textTotalDiscCalc').html('Итог - 20% = ' + summ + ' - ' + (summ * (confPrices.discount / 100)) + ' = ' + summ_disc + '€');\r\n                $('.js-confCost').html('<span class=\"old\">' + Math.trunc(summ) + ' €' + ' </span>' + Math.trunc(summ_disc) + ' €' + end_str);\r\n                $('.js-confFormPrice').val(Math.trunc(summ_disc) + ' €');\r\n            }\r\n            else {\r\n                $('.js-confCost').html(Math.trunc(summ) + ' €' + end_str);\r\n                $('.js-confFormPrice').val(Math.trunc(summ) + ' €');\r\n            }\r\n        }\r\n    }\r\n    function calculateMoss(area_mt) {\r\n        var step3Keys = Object.keys(configurator.step3);\r\n        var step3Vals = Object.values(configurator.step3);\r\n        var summ = 0;\r\n        var perc = 0;\r\n        var test_str = '';\r\n        var test_str_formula = '';\r\n        var test_str_parts = '';\r\n        var test_transl = {reindeer: 'Ягель', bool: 'Пластовой', flat: 'Кочковой'};\r\n        step3Vals.forEach(function(el, i) {\r\n            perc = 0;\r\n            if (el > 0) {\r\n                if (step3Keys[i] === 'has_green') {\r\n                    perc = 0.2;\r\n                    summ += area_mt * confPrices.green * perc;\r\n                    if (i !== 0)\r\n                        test_str_formula += ' + ';\r\n                    test_str_formula += '(Площадь м<sup>2</sup> * Зелень * 20%)';\r\n\r\n                    if (i !== 0)\r\n                        test_str += ' + ';\r\n                    test_str += '(' + area_mt + ' * ' + confPrices.green + ' * ' + (perc) + ')';\r\n\r\n                    if (i !== 0)\r\n                        test_str_parts += ' + ';\r\n                    test_str_parts += (area_mt * confPrices.green * perc);\r\n                } else {\r\n                    perc = el / 100;\r\n                    summ += area_mt * confPrices.moss[step3Keys[i]] * perc;\r\n\r\n                    if (i !== 0)\r\n                        test_str_formula += ' + ';\r\n                    test_str_formula += '(Площадь м<sup>2</sup> * ' + test_transl[step3Keys[i]] + ' * ' + (el) + '%)';\r\n\r\n                    if (i !== 0)\r\n                        test_str += ' + ';\r\n                    test_str += '(' + area_mt + ' * ' + confPrices.moss[step3Keys[i]] + ' * ' + (perc) + ')';\r\n\r\n                    if (i !== 0)\r\n                        test_str_parts += ' + ';\r\n                    test_str_parts += (area_mt * confPrices.moss[step3Keys[i]] * perc);\r\n                }\r\n            }\r\n        });\r\n        summ = summ * confPrices.coefficient;\r\n        $('.textMossCalc').html('(' + test_str_formula + ') * коэфициент = ' + '(' + test_str + ') * ' + confPrices.coefficient + ' = (' + test_str_parts + ') * ' + confPrices.coefficient + ' = ' + summ + '€');\r\n        return summ;\r\n    }\r\n    function calculateFrame(perim_mt) {\r\n        var summ = 0;\r\n        var test_transl = {none: 'Без рамки', moss: 'Из мха', wooden: 'Деревянная', aluminum: 'Алюминиевая'};\r\n        if (mode !== 'circle') {\r\n            if (configurator.step4 !== '') {\r\n                summ = perim_mt * confPrices.frame[configurator.step4];\r\n            }\r\n            $('.textFrameCalc').html('Периметр м * ' + test_transl[configurator.step4] + ' = ' + perim_mt + ' * ' + confPrices.frame[configurator.step4] + ' = ' + summ + '€');\r\n        } else {\r\n            if (configurator.step4 !== '') {\r\n                if ($('select.js-confSetValue').val() === '')\r\n                    return summ;\r\n                if (confPrices.circle.frame[configurator.step4][$('select.js-confSetValue').val()] === 0)\r\n                    return summ;\r\n\r\n                summ = confPrices.circle.frame[configurator.step4][$('select.js-confSetValue').val()];\r\n                $('.textFrameCalc').html('Фикс цена ' + test_transl[configurator.step4] + ' = ' + confPrices.circle.frame[configurator.step4][$('select.js-confSetValue').val()] + ' = ' + summ + '€');\r\n            }\r\n        }\r\n\r\n        return summ;\r\n    }\r\n    /*calculate price by all getted data*/\r\n\r\n    /*navigation*/\r\n    $('.js-confNext, .js-confTopBtns').click(function() {\r\n        var number = $(this).data('step');\r\n        $('.js-confContScreens').removeClass('current');\r\n        if (number === 1) {\r\n            $('.js-confContScreens[data-screen=\"1\"]').addClass('current');\r\n        } else if (number === 2) {\r\n            $('.js-confContScreens[data-screen=\"' + number + '-' + configurator.step1 + '\"]').addClass('current');\r\n        } else {\r\n            $('.js-confContScreens[data-screen=\"' + number + '\"]').addClass('current');\r\n        }\r\n        configTopMark(number);\r\n        // var confWrap = document.querySelector('.page-configurator-app');\r\n        // window.scrollTo(0, confWrap.offsetTop);\r\n    });\r\n\r\n    function configTopMark(step) {\r\n        $('.js-confTopBtns').each(function(i, el){\r\n            if (i+1 <= step) {\r\n                $('.js-confTopBtns[data-step=\"' + (i+1) + '\"]').addClass('current');\r\n            } else {\r\n                $('.js-confTopBtns[data-step=\"' + (i+1) + '\"]').removeClass('current');\r\n            }\r\n        });\r\n    }\r\n    /*navigation*/\r\n\r\n\r\n}( jQuery ) );"]}